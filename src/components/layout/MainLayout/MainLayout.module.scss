@use '../../../styles/variables' as *;
@use '../../../styles/mixins' as *;

.layout_container {
  display: flex;
  height: 100vh; // Fixed height (viewport)
  overflow: hidden; // Prevent global scroll
  background-color: $bg-body;
}

.main_content {
  flex: 1;
  transition: margin-left 0.3s ease-in-out;
  margin-left: $sidebar-width; // Default desktop: push content to right
  
  &.collapsed {
    margin-left: $sidebar-collapsed-width;
  }

  padding: 24px;
  // width: 100%; // REMOVED: This causes horizontal overflow when combined with margin-left
  width: auto; 
  height: 100vh; // Match viewport height
  overflow-y: auto; // Content scrolls internally
  overflow-x: hidden; // Prevent horizontal scroll on the main area
  position: relative; /* For contained loading overlay */

  @include tablet {
    margin-left: 0; // Mobile/Tablet: Sidebar is overlay, so no margin needed
    padding: 16px;
    width: 100%; // Safe to use 100% here as margin is 0
  }
}

// Top bar visible only on mobile/tablet for toggling sidebar
.mobile_topbar {
  display: none;
  align-items: center;
  justify-content: space-between;
  height: $header-height;
  padding: 0 16px;
  background-color: $bg-sidebar;
  border-bottom: 1px solid $border-color;
  position: sticky;
  top: 0;
  z-index: 50;
  margin: -16px -16px 16px -16px; // Negative margin to stretch full width within padding

  @include tablet {
    display: flex;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    color: $text-dark;
  }

  .title {
    font-weight: 600;
    font-size: 1.1rem;
    color: $text-dark;
  }
}
